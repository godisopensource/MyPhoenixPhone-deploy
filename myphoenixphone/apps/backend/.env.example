# Copy this file to .env and adjust values

# ------------------------------------------------------------------------------
# Application
# ------------------------------------------------------------------------------
# Node environment: development | test | production
NODE_ENV=development


# HTTP port the NestJS backend listens on

PORT=3003


# ------------------------------------------------------------------------------
# CORS / Origins
# ------------------------------------------------------------------------------
# Public origin of this backend (e.g., https://your-domain.vercel.app)
# Used in CORS checks and cookie settings where relevant.
PUBLIC_ORIGIN=

# Development web origin to allow in CORS (optional)
DEV_WEB_ORIGIN=http://localhost:3000

# Additional allowed origins (comma-separated), e.g. https://foo.app,https://bar.app
ALLOWED_ORIGINS=

# Note: On Vercel, VERCEL_URL is provided automatically and will be allowed.

# ------------------------------------------------------------------------------
# Sessions
# ------------------------------------------------------------------------------
# Used by express-session to sign cookies. Set a strong value in production.
SESSION_SECRET=dev-session-secret-change-me


# ------------------------------------------------------------------------------
# Database (Prisma)
# Postgres connection string format:
# postgresql://USER:PASSWORD@HOST:PORT/DB?schema=public
# ------------------------------------------------------------------------------
DATABASE_URL=postgresql://postgres:postgres@localhost:5432/myphoenixphone?schema=public

# ------------------------------------------------------------------------------
# CAMARA (Orange) API
# ------------------------------------------------------------------------------
CAMARA_BASE_URL=https://api.orange.com
CAMARA_CLIENT_ID=your_client_id
CAMARA_CLIENT_SECRET=your_client_secret
CAMARA_TOKEN_URL=https://api.orange.com/oauth/v3/token

# ------------------------------------------------------------------------------
# Cloudflare Turnstile (Captcha)
# These values are used server-side to verify captcha tokens.
# Docs: https://developers.cloudflare.com/turnstile/reference/verify/
# ------------------------------------------------------------------------------
# Enable/disable Turnstile verification (useful for local development)
TURNSTILE_ENABLED=true

# Secret key from your Turnstile site (server-side)
TURNSTILE_SECRET_KEY=your_turnstile_secret_key

# Verification endpoint used by the backend to validate tokens
TURNSTILE_VERIFY_URL=https://challenges.cloudflare.com/turnstile/v0/siteverify

# Optional: site key (only needed if the backend renders pages or needs to expose it)
# If your frontend handles rendering, put the site key in the frontend env instead.
# TURNSTILE_SITE_KEY=your_turnstile_site_key
